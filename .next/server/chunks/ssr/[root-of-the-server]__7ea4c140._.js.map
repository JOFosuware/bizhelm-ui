{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../components/ui/card.tsx","../../../../lib/api.ts","../../../../components/auth/auth-card.tsx","../../../../app/%28auth%29/login/login-form.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"rounded-2xl bg-white shadow-soft border border-slate-200\", className)}\n      {...props}\n    />\n  );\n}\n\nexport function CardHeader({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"p-5 pb-0\", className)} {...props} />;\n}\n\nexport function CardContent({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"p-5\", className)} {...props} />;\n}\n\nexport function CardFooter({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"p-5 pt-0\", className)} {...props} />;\n}\n","export type ApiError = {\n  status: number;\n  message: string;\n  details?: unknown;\n};\n\nfunction getBaseUrl() {\n  const base = process.env.NEXT_PUBLIC_API_BASE_URL;\n  if (!base) return \"http://localhost:8080/api/v1\";\n  return base.replace(/\\/$/, \"\");\n}\n\nexport async function bhFetch<T>(\n  path: string,\n  init: RequestInit = {}\n): Promise<T> {\n  const url = path.startsWith(\"http\") ? path : `${getBaseUrl()}${path.startsWith(\"/\") ? \"\" : \"/\"}${path}`;\n  const res = await fetch(url, {\n    ...init,\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(init.headers || {})\n    }\n  });\n\n  if (!res.ok) {\n    let payload: any = null;\n    try { payload = await res.json(); } catch {}\n    const err: ApiError = {\n      status: res.status,\n      message: payload?.message || res.statusText || \"Request failed\",\n      details: payload?.details\n    };\n    throw err;\n  }\n\n  // Handle 204\n  if (res.status === 204) return undefined as T;\n\n  return (await res.json()) as T;\n}\n","\"use client\";\n\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nexport function AuthCard({ title, subtitle, children }: { title: string; subtitle?: string; children: React.ReactNode }) {\n  return (\n    <Card className=\"w-full\">\n      <CardContent className=\"p-6\">\n        <div className=\"mb-5\">\n          <div className=\"text-lg font-semibold\">{title}</div>\n          {subtitle ? <div className=\"mt-1 text-sm text-slate-600\">{subtitle}</div> : null}\n        </div>\n        {children}\n      </CardContent>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport * as React from \"react\";\nimport { AuthCard } from \"@/components/auth/auth-card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { bhFetch } from \"@/lib/api\";\n\nexport default function LoginForm() {\n  const router = useRouter();\n  const params = useSearchParams();\n  const next = params.get(\"next\") || \"/home\";\n\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [error, setError] = React.useState<string | null>(null);\n  const [loading, setLoading] = React.useState(false);\n\n  async function onSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n    try {\n      const mockMode = process.env.NEXT_PUBLIC_MOCK_MODE === \"true\";\n      if (!mockMode) {\n        await bhFetch(\"/auth/login\", { method: \"POST\", body: JSON.stringify({ identifier: email, password }) });\n      }\n      router.push(next);\n      router.refresh();\n    } catch (err: any) {\n      setError(err?.message || \"Login failed\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <AuthCard title=\"Sign in\" subtitle=\"Access your BizHelm dashboard\">\n      <form className=\"space-y-3\" onSubmit={onSubmit}>\n        <div>\n          <label className=\"text-xs font-medium text-slate-600\">Email</label>\n          <Input value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"name@company.com\" required />\n        </div>\n\n        <div>\n          <label className=\"text-xs font-medium text-slate-600\">Password</label>\n          <Input value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" placeholder=\"••••••••\" required />\n        </div>\n\n        {error ? <div className=\"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">{error}</div> : null}\n\n        <Button className=\"w-full\" disabled={loading}>\n          {loading ? \"Signing in…\" : \"Sign in\"}\n        </Button>\n\n        <div className=\"flex items-center justify-between text-sm\">\n          <Link className=\"text-slate-600 hover:text-slate-900\" href=\"/forgot-password\">Forgot password?</Link>\n          <Link className=\"text-slate-600 hover:text-slate-900\" href=\"/register\">Create account</Link>\n        </div>\n      </form>\n    </AuthCard>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2,3]}