{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../components/ui/card.tsx","../../../../lib/api.ts","../../../../components/auth/auth-card.tsx","../../../../app/%28auth%29/reset-password/reset-password-form.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"rounded-2xl bg-white shadow-soft border border-slate-200\", className)}\n      {...props}\n    />\n  );\n}\n\nexport function CardHeader({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"p-5 pb-0\", className)} {...props} />;\n}\n\nexport function CardContent({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"p-5\", className)} {...props} />;\n}\n\nexport function CardFooter({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"p-5 pt-0\", className)} {...props} />;\n}\n","export type ApiError = {\n  status: number;\n  message: string;\n  details?: unknown;\n};\n\nfunction getBaseUrl() {\n  const base = process.env.NEXT_PUBLIC_API_BASE_URL;\n  if (!base) return \"http://localhost:8080/api/v1\";\n  return base.replace(/\\/$/, \"\");\n}\n\nexport async function bhFetch<T>(\n  path: string,\n  init: RequestInit = {}\n): Promise<T> {\n  const url = path.startsWith(\"http\") ? path : `${getBaseUrl()}${path.startsWith(\"/\") ? \"\" : \"/\"}${path}`;\n  const res = await fetch(url, {\n    ...init,\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(init.headers || {})\n    }\n  });\n\n  if (!res.ok) {\n    let payload: any = null;\n    try { payload = await res.json(); } catch {}\n    const err: ApiError = {\n      status: res.status,\n      message: payload?.message || res.statusText || \"Request failed\",\n      details: payload?.details\n    };\n    throw err;\n  }\n\n  // Handle 204\n  if (res.status === 204) return undefined as T;\n\n  return (await res.json()) as T;\n}\n","\"use client\";\n\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nexport function AuthCard({ title, subtitle, children }: { title: string; subtitle?: string; children: React.ReactNode }) {\n  return (\n    <Card className=\"w-full\">\n      <CardContent className=\"p-6\">\n        <div className=\"mb-5\">\n          <div className=\"text-lg font-semibold\">{title}</div>\n          {subtitle ? <div className=\"mt-1 text-sm text-slate-600\">{subtitle}</div> : null}\n        </div>\n        {children}\n      </CardContent>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport * as React from \"react\";\nimport { AuthCard } from \"@/components/auth/auth-card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { bhFetch } from \"@/lib/api\";\n\nexport default function ResetPasswordForm() {\n  const router = useRouter();\n  const params = useSearchParams();\n  const token = params.get(\"token\") || \"\";\n\n  const [password, setPassword] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n  const [done, setDone] = React.useState(false);\n  const [error, setError] = React.useState<string | null>(null);\n\n  async function onSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    if (!token) {\n      setError(\"Missing token in URL.\");\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      await bhFetch(\"/auth/password-reset/confirm\", { method: \"POST\", body: JSON.stringify({ token, new_password: password }) });\n      setDone(true);\n      setTimeout(() => router.push(\"/login\"), 900);\n    } catch (err: any) {\n      setError(err?.message || \"Reset failed\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <AuthCard title=\"Set new password\" subtitle=\"Choose a strong password.\">\n      <form className=\"space-y-3\" onSubmit={onSubmit}>\n        <div>\n          <label className=\"text-xs font-medium text-slate-600\">New password</label>\n          <Input value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" required />\n        </div>\n        {done ? <div className=\"rounded-xl border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700\">Password updated. Redirecting…</div> : null}\n        {error ? <div className=\"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">{error}</div> : null}\n        <Button className=\"w-full\" disabled={loading}>{loading ? \"Updating…\" : \"Update password\"}</Button>\n        <div className=\"text-sm text-slate-600\">\n          Back to <Link className=\"text-slate-900 hover:underline\" href=\"/login\">Sign in</Link>\n        </div>\n      </form>\n    </AuthCard>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2,3]}